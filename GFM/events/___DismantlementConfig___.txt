#Introdution Events

# The following event defines what countries are treated as colonial 
# this is ignored if the countries are already civilised
# countries will civilise on release

#
#
#		NOTE TO BOB - Use variables in here to check valid formables
#
#



country_event = { # Colonial Countries	# Semi-Dynamic - Adding tags will exclude them from regular dismantlement but not add them to colonial dismantlement
    id = 20452
    title = "Dismantlement Colonial Tags"
    is_triggered_only = yes
	
	immediate = {
		any_land_province = {
			limit = {
				CLN = { check_variable = { which = dismantlement_colony value = 0.99 } NOT = { check_variable = { which = dismantlement_colony value = 1.99 } } }

				# Provinces
				provid = 1
			}
			add_province_modifier = { 
				name = dismantlement_colony
				duration = -1
			}
			# Need a keylist for this
		}
		any_country = {
			limit = {
				OR = {
					tag = EGY
					tag = MOR
				}
			}
			set_country_flag = dismantlement_colonial_core_tag
		}
	}
	
	option = {
        name = "Colonial Flags set"
    }
}

country_event = { # Dismantlement Formables	# Dynamic - You can add your own dismantlement formables	
    id = 20451
    title = "Dismantlement Formables Tags"
    is_triggered_only = yes
	
	immediate = {
	
		any_country = { set_variable = { which = dismantlement_formable value = 0 } }
		CLN = { set_variable = { which = total_dismantlement_formables value = 0 } }
		clr_global_flag = dismantlement_formables_avalible
	
		any_country = {				# Intermarium
			limit = {
				OR = {
					tag = UKR
					tag = RUT
					tag = BYE
					tag = LIT
					tag = LAT
					tag = EST
					tag = POL
					tag = GLM
					tag = PLC
					tag = UBD
					tag = MOL
					tag = CRI
				}
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			PLR = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}

		any_country = {				# United Baltic Duchy
			limit = {
				OR = {
					tag = LIT
					tag = LAT
					tag = EST
				}
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			UBD = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}

		any_country = {				# Finland
			limit = {
				OR = {
					AND = { tag = EST }	# Check that Finland is also being dismantled to avoid finland-in-exile
					AND = { tag = KRL }
					AND = { tag = SMI }
				}
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			FIN = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}

		any_country = {				# Ukraine
			limit = {
				OR = {
					AND = { tag = DON }	# Check that Ukraine is also being dismantled to avoid finland-in-exile
					tag = CRI
					tag = RUT
				}
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			UKR = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}

		any_country = {				# Transcaucasia
			limit = {
				OR = {
					tag = OSS	# Osseitia  								# Check that Ukraine is also being dismantled to avoid finland-in-exile
					tag = CIR	# Circassia
					tag = DAG	# Dagestan
					tag = GEO	# Georgia
					tag = AZB	# Azerbijian
					tag = ARM	# Armenia
					tag = SVA	# Svaneti
					tag = MIG	# Mingrelia
					tag = ABK   # Abkhazia
					tag = CHY   # Chechnya
				}
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			TCA = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}
		
		any_country = {				# Far Eastern Republic
			limit = {
				OR = {
					tag = KAM
					tag = YAK
					tag = BRY
					tag = ALT
					tag = TNT
					tag = GUK
					tag = SIB
					tag = LSK
					tag = MGL
					#AND = { tag = LSK LSK = { capital_scope = { owned_by = RUS } } }
					#AND = { tag = LSK LSK = { capital_scope = { owned_by = RUS } } } Mongolia?
				}
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			KAM = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}

		any_country = {				# Buryatia
			limit = {
				OR = {
					tag = TNT
					tag = ALT
				}
				NOT = { BRY = { capital_scope = { owned_by = KAM } } }
				has_country_flag = dismantlement_targeting_long_buffer	
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			BRY = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}
		
		any_country = {				# South Germany
			limit = {
				OR = {
					tag = WUR
					tag = BAD
					tag = SGM
					tag = ALS
					tag = BAV
					tag = FRK
				}
				has_country_flag = dismantlement_targeting_long_buffer
			}
			set_global_flag = dismantlement_formables_avalible
			any_country = { limit = { check_variable = { which = dismantlement_formable value = 0.99 } } change_variable = { which = dismantlement_formable value = 1 } }
			CLN = { change_variable = { which = total_dismantlement_formables value = 1 } }
			SGF = { set_country_flag = dismantlement_formable change_variable = { which = dismantlement_formable value = 1 } }
		}
	}
	
	option = {
        name = "Formable Flags set"
    }
}